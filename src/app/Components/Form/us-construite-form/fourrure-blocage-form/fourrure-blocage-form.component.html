<ion-accordion value="fourrure">
  <ion-item slot="header">
    <ion-label>Fourrure/Blocage</ion-label>
  </ion-item>

  <ion-row slot="content">
    <ion-col size="12" class="background-form-color">
      <mat-card class="card-list hide-scrollbar pt-0">
        <table class="table table-borderless table-responsive">
          <!-- HEADER -->
          <thead class="fixed-table-header">
          <tr>
            <th scope="col">Nature</th>
            <th scope="col">Module</th>
            <th scope="col">Dimensions (cm)</th>
            <th scope="col"></th>
          </tr>
          </thead>
          <tbody>
          <!-- ROWS -->
          <ng-container *ngIf="this.us?.us_fourrure_blocage?.length > 0">
            <tr *ngFor="let fourrureBlocage of this.us?.us_fourrure_blocage; let index = index"
                [style]="{'text-decoration': (fourrureBlocage.live ? '' : 'line-through')}">
              <td>
                <app-castor-type-selector
                  [prefix]="false"
                  [editable]="false"
                  [category]="ApiTypeCategory.US_CONSTRUITE_FOURRURE_NATURE"
                  [(value)]="fourrureBlocage.us_fourrure_nature"
                ></app-castor-type-selector>
              </td>
              <td>
                <app-castor-type-selector
                  [prefix]="false"
                  [editable]="false"
                  [category]="ApiTypeCategory.US_CONSTRUITE_FOURRURE_MODULE"
                  [(value)]="fourrureBlocage.us_fourrure_module"
                ></app-castor-type-selector>
              </td>
              <td>{{ fourrureBlocage?.us_fourrure_dimensions }}</td>
              <td class="text-end">
                <ion-button [disabled]="!fourrureBlocage.live" [fill]="'clear'" (click)="this.deleteRow(fourrureBlocage, index)">
                  <ion-icon [slot]="'icon-only'" name="close"></ion-icon>
                </ion-button>
              </td>
            </tr>
          </ng-container>
          <!-- ADDING NEW ROW -->
          <tr>
            <td>
              <app-castor-type-selector
                [prefix]="false"
                [editable]="true"
                [category]="ApiTypeCategory.US_CONSTRUITE_FOURRURE_NATURE"
                [(value)]="fourrureNatureToAdd"
              ></app-castor-type-selector>
            </td>
            <td>
              <app-castor-type-selector
                [prefix]="false"
                [editable]="false"
                [category]="ApiTypeCategory.US_CONSTRUITE_FOURRURE_MODULE"
                [(value)]="fourrureModuleToAdd"
              ></app-castor-type-selector>
            </td>
            <td>
              <ion-item lines="full">
                <ion-input type="number" [(ngModel)]="this.fourrureDimensionToAdd"></ion-input>
              </ion-item>
            </td>
            <td class="text-end">
              <ion-button [fill]="'clear'" [size]="'small'" [disabled]="!isValidForm()" (click)="this.addRow()">
                <mat-icon svgIcon="castorAddIcon"  style="width: 25px; height: 25px"></mat-icon>
              </ion-button>
            </td>
          </tr>
          </tbody>
        </table>
      </mat-card>
    </ion-col>
  </ion-row>
</ion-accordion>
