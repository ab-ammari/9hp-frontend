<ion-accordion value="tracesTaille">
  <ion-item slot="header">
    <ion-label>Traces de taille</ion-label>
  </ion-item>

  <ion-row slot="content">
    <ion-col size="12" class="background-form-color">
      <ion-row>
        <ion-col size="12">
          <mat-card class="card-list hide-scrollbar pt-0">
            <table class="table table-borderless table-responsive">
              <!-- HEADER -->
              <thead class="fixed-table-header">
              <tr>
                <th scope="col">Type de trace</th>
                <th scope="col">Position</th>
                <th scope="col"></th>
              </tr>
              </thead>
              <tbody>
              <!-- ROWS -->
              <ng-container *ngIf="this.us?.us_traces_de_taille?.length > 0">
                <tr *ngFor="let tracesTaille of this.us?.us_traces_de_taille; let index = index"
                    [style]="{'text-decoration': (tracesTaille.live ? '' : 'line-through')}">
                  <td>
                    <app-castor-type-selector
                      [prefix]="false"
                      [editable]="false"
                      [category]="ApiTypeCategory.US_CONSTRUITE_TRACES_TAILLE_TYPE"
                      [(value)]="tracesTaille.us_traces_de_taille_type"
                    ></app-castor-type-selector>
                  </td>
                  <td>
                    <app-castor-type-selector
                      [prefix]="false"
                      [editable]="false"
                      [category]="ApiTypeCategory.US_CONSTRUITE_TRACES_TAILLE_POSITION"
                      [(value)]="tracesTaille.us_traces_de_taille_position"
                    ></app-castor-type-selector>
                  </td>
                  <td class="text-end">
                    <ion-button [disabled]="!tracesTaille.live" [fill]="'clear'"
                                (click)="this.deleteRow(tracesTaille, index)">
                      <ion-icon [slot]="'icon-only'" name="close"></ion-icon>
                    </ion-button>
                  </td>
                </tr>
              </ng-container>
              <!-- ADDING NEW ROW -->
              <tr>
                <td>
                  <app-castor-type-selector
                    [prefix]="false"
                    [editable]="true"
                    [category]="ApiTypeCategory.US_CONSTRUITE_TRACES_TAILLE_TYPE"
                    [(value)]="tracesTailleTypeToAdd"
                  ></app-castor-type-selector>
                </td>
                <td>
                  <app-castor-type-selector
                    [prefix]="false"
                    [editable]="true"
                    [category]="ApiTypeCategory.US_CONSTRUITE_TRACES_TAILLE_POSITION"
                    [(value)]="tracesTaillePositionToAdd"
                  ></app-castor-type-selector>
                </td>
                <td class="text-end">
                  <ion-button [fill]="'clear'" [size]="'small'" [disabled]="!isValidForm()" (click)="this.addRow()">
                    <mat-icon svgIcon="castorAddIcon" style="width: 25px; height: 25px"></mat-icon>
                  </ion-button>
                </td>
              </tr>
              </tbody>
            </table>
          </mat-card>
        </ion-col>
        <ion-col size="12">
          <ion-card class="m-0">
            <ion-card-content>
              <ion-list>
                <ion-row>
                  <ion-col size="12" size-md="6">
                    <ion-item-divider>
                      <ion-label style="color: black; font-weight: 500;">Bossage</ion-label>
                    </ion-item-divider>
                    <ion-radio-group [(ngModel)]="us.us_traces_de_taille_bossage">
                      <ion-row>
                        <ion-col size="6">
                          <ion-item lines="none">
                            <ion-label style="color: black;">Oui</ion-label>
                            <ion-radio slot="start" [value]="true"></ion-radio>
                          </ion-item>
                        </ion-col>
                        <ion-col size="6">
                          <ion-item lines="none">
                            <ion-label style="color: black;">Non</ion-label>
                            <ion-radio slot="start" [value]="false"></ion-radio>
                          </ion-item>
                        </ion-col>
                      </ion-row>
                    </ion-radio-group>
                  </ion-col>
                  <ion-col size="12" size-md="6">
                    <ion-item-divider>
                      <ion-label style="color: black; font-weight: 500;">Ciselure relev√©e</ion-label>
                    </ion-item-divider>
                    <ion-radio-group [(ngModel)]="us.us_traces_de_taille_ciselure">
                      <ion-row>
                        <ion-col size="6">
                          <ion-item lines="none">
                            <ion-label style="color: black;">Oui</ion-label>
                            <ion-radio slot="start" [value]="true"></ion-radio>
                          </ion-item>
                        </ion-col>
                        <ion-col size="6">
                          <ion-item lines="none">
                            <ion-label style="color: black;">Non</ion-label>
                            <ion-radio slot="start" [value]="false"></ion-radio>
                          </ion-item>
                        </ion-col>
                      </ion-row>
                    </ion-radio-group>
                  </ion-col>
                </ion-row>
              </ion-list>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</ion-accordion>
